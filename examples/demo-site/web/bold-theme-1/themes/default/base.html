{% set current_theme = shell.theme or theme.default_shell_theme %}
{% set shell_attributes = shell.data_attributes if shell.data_attributes is defined else {} %}
<!DOCTYPE html>
<html lang="en" data-theme="{{ current_theme }}">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="color-scheme" content="light" />
    <title>{% block title %}{{ page.title }}{% endblock %}</title>
    {% for href in assets.styles %}
    <link rel="stylesheet" href="{{ href }}" />
    {% endfor %}
    {% if page.styles %}
      {% for href in page.styles %}
      <link rel="stylesheet" href="{{ href }}" />
      {% endfor %}
    {% endif %}
    {% block head_extra %}{% endblock %}
  </head>
  <body{% if page.body_class %} class="{{ page.body_class }}"{% endif %}>
    <a class="skip-link" href="#main">Skip to content</a>
    <div id="app-shell" class="app-shell" data-theme="{{ current_theme }}"{% for key, value in shell_attributes.items() %} data-{{ key }}="{{ value }}"{% endfor %}>
      {% if theme.partials.header %}
        {% include theme.partials.header %}
      {% endif %}
      {% block main %}{% endblock %}
      {% if theme.partials.footer %}
        {% include theme.partials.footer %}
      {% endif %}
    </div>
    {% for script in assets.scripts %}
    <script{% if script.type %} type="{{ script.type }}"{% endif %}{% if script.defer %} defer{% endif %}{% if script.async %} async{% endif %}{% if script.integrity %} integrity="{{ script.integrity }}"{% endif %}{% if script.crossorigin %} crossorigin="{{ script.crossorigin }}"{% endif %} src="{{ script.src }}"></script>
    {% endfor %}
    {% if page.scripts %}
      {% for script in page.scripts %}
      <script{% if script.type %} type="{{ script.type }}"{% endif %}{% if script.defer %} defer{% endif %}{% if script.async %} async{% endif %}{% if script.integrity %} integrity="{{ script.integrity }}"{% endif %}{% if script.crossorigin %} crossorigin="{{ script.crossorigin }}"{% endif %} src="{{ script.src }}"></script>
      {% endfor %}
    {% endif %}
    {% if theme.partials.inline_script %}
      {% include theme.partials.inline_script %}
    {% endif %}
    {% block body_extra %}{% endblock %}
  </body>
</html>
